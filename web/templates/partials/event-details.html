<div class="event-detail-content">
    <h3>{{.Event.Title}}</h3>
    
    {{if .Event.Images}}
    <div class="event-detail-images">
        {{range .Event.Images}}
        <div class="event-detail-image">
            <img src="{{fullImageURL .Url}}" alt="{{.AltText}}" title="{{.Title}}">
            {{if .Caption}}<p class="image-caption">{{.Caption}} {{if .Credit}}({{.Credit}}){{end}}</p>{{end}}
        </div>
        {{end}}
    </div>
    {{end}}

    {{if .Event.Description}}
    <div class="event-detail-description">
        {{.Event.Description | unescapeHTML}}
    </div>
    {{end}}

    <div class="event-detail-info">
        {{if .Event.ParkFullName}}
        <div class="detail-row">
            <strong>Location:</strong> {{.Event.ParkFullName}}
            {{if .Event.Location}} - {{.Event.Location}}{{end}}
        </div>
        {{end}}

        {{if .Event.DateStart}}
        <div class="detail-row">
            <strong>Date:</strong>
            {{if .Event.DateEnd}}
                {{if eq .Event.DateStart .Event.DateEnd}}
                    {{.Event.DateStart | formatEventDate}}
                {{else}}
                    {{.Event.DateStart | formatEventDate}} - {{.Event.DateEnd | formatEventDate}}
                {{end}}
            {{else}}
                {{.Event.DateStart | formatEventDate}}
            {{end}}
        </div>
        {{end}}

        {{if .Event.Times}}
        <div class="detail-row">
            <strong>Times:</strong>
            <ul class="event-times-list">
            {{range .Event.Times}}
                <li>{{.TimeStart}}{{if .TimeEnd}} - {{.TimeEnd}}{{end}}</li>
            {{end}}
            </ul>
        </div>
        {{end}}

        {{if .Event.Category}}
        <div class="detail-row">
            <strong>Category:</strong> {{.Event.Category}}
        </div>
        {{end}}

        {{if .Event.Types}}
        <div class="detail-row">
            <strong>Event Types:</strong> {{range $index, $type := .Event.Types}}{{if $index}}, {{end}}{{$type}}{{end}}
        </div>
        {{end}}

        <div class="detail-row">
            <strong>Cost:</strong> {{if eq .Event.IsFree "true"}}Free{{else}}Fee Required{{end}}
        </div>

        {{if .Event.FeeInfo}}
        <div class="detail-row">
            <strong>Fee Information:</strong> {{.Event.FeeInfo}}
        </div>
        {{end}}

        {{if eq .Event.IsRegresRequired "true"}}
        <div class="detail-row">
            <strong>Registration:</strong> Required
        </div>
        {{end}}

        {{if .Event.RegresInfo}}
        <div class="detail-row">
            <strong>Registration Info:</strong> {{.Event.RegresInfo}}
        </div>
        {{end}}

        {{if .Event.RegresUrl}}
        <div class="detail-row">
            <strong>Registration:</strong> <a href="{{.Event.RegresUrl}}" target="_blank" rel="noopener">Register Here</a>
        </div>
        {{end}}

        {{if .Event.ContactName}}
        <div class="detail-row">
            <strong>Contact:</strong> {{.Event.ContactName}}
            {{if .Event.ContactTelephoneNumber}} - {{.Event.ContactTelephoneNumber}}{{end}}
            {{if .Event.ContactEmailAddress}} - {{.Event.ContactEmailAddress}}{{end}}
        </div>
        {{end}}

        {{if eq .Event.IsRecurring "true"}}
        <div class="detail-row">
            <strong>Recurring:</strong> Yes
            {{if .Event.RecurrenceDateStart}} ({{.Event.RecurrenceDateStart | formatEventDate}}{{if .Event.RecurrenceDateEnd}} - {{.Event.RecurrenceDateEnd | formatEventDate}}{{end}}){{end}}
        </div>
        {{end}}

        {{if .Event.Tags}}
        <div class="detail-row">
            <strong>Tags:</strong>
            <div class="event-detail-tags">
                {{range .Event.Tags}}
                <span class="event-detail-tag">{{.}}</span>
                {{end}}
            </div>
        </div>
        {{end}}

        {{if .Event.InfoUrl}}
        <div class="detail-row">
            <strong>More Information:</strong> <a href="{{.Event.InfoUrl}}" target="_blank" rel="noopener">Event Details</a>
        </div>
        {{end}}

        {{if .Event.Dates}}
        <div class="detail-row">
            <strong>Additional Dates:</strong>
            <div class="event-additional-dates">
                {{range .Event.Dates}}
                <span class="additional-date">{{. | formatEventDate}}</span>
                {{end}}
            </div>
        </div>
        {{end}}
    </div>
</div>
